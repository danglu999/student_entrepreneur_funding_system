{"version":3,"file":"tether.esm.js","sources":["../../src/js/utils/classes.js","../../src/js/utils/deferred.js","../../src/js/utils/general.js","../../src/js/utils/type-check.js","../../src/js/utils/bounds.js","../../src/js/abutment.js","../../src/js/constraint.js","../../src/js/shift.js","../../src/js/evented.js","../../src/js/utils/offset.js","../../src/js/utils/parents.js","../../src/js/tether.js"],"sourcesContent":["export function addClass(el, name) {\n  name.split(' ').forEach((cls) => {\n    if (cls.trim()) {\n      el.classList.add(cls);\n    }\n  });\n}\n\nexport function removeClass(el, name) {\n  name.split(' ').forEach((cls) => {\n    if (cls.trim()) {\n      el.classList.remove(cls);\n    }\n  });\n}\n\nexport function updateClasses(el, add, all) {\n  // Of the set of 'all' classes, we need the 'add' classes, and only the\n  // 'add' classes to be set.\n  all.forEach((cls) => {\n    if (add.indexOf(cls) === -1 && el.classList.contains(cls)) {\n      removeClass(el, cls);\n    }\n  });\n\n  add.forEach((cls) => {\n    if (!el.classList.contains(cls)) {\n      addClass(el, cls);\n    }\n  });\n}\n","const deferred = [];\n\nexport function defer(fn) {\n  deferred.push(fn);\n}\n\nexport function flush() {\n  let fn;\n  // eslint-disable-next-line\n  while (fn = deferred.pop()) {\n    fn();\n  }\n}\n","let _scrollBarSize = null;\n\nexport function extend(out = {}) {\n  const args = [];\n\n  Array.prototype.push.apply(args, arguments);\n\n  args.slice(1).forEach((obj) => {\n    if (obj) {\n      for (let key in obj) {\n        if ({}.hasOwnProperty.call(obj, key)) {\n          out[key] = obj[key];\n        }\n      }\n    }\n  });\n\n  return out;\n}\n\nexport function getScrollBarSize() {\n  if (_scrollBarSize) {\n    return _scrollBarSize;\n  }\n  const inner = document.createElement('div');\n  inner.style.width = '100%';\n  inner.style.height = '200px';\n\n  const outer = document.createElement('div');\n  extend(outer.style, {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    pointerEvents: 'none',\n    visibility: 'hidden',\n    width: '200px',\n    height: '150px',\n    overflow: 'hidden'\n  });\n\n  outer.appendChild(inner);\n\n  document.body.appendChild(outer);\n\n  const widthContained = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  let widthScroll = inner.offsetWidth;\n\n  if (widthContained === widthScroll) {\n    widthScroll = outer.clientWidth;\n  }\n\n  document.body.removeChild(outer);\n\n  const width = widthContained - widthScroll;\n\n  _scrollBarSize = { width, height: width };\n  return _scrollBarSize;\n}\n\nexport const uniqueId = (() => {\n  let id = 0;\n  return () => ++id;\n})();\n","/**\n * Checks if `value` is classified as a `Function` object.\n * @param {*} value The param to check if it is a function\n */\nexport function isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Checks if `value` is classified as a `Number` object.\n * @param {*} value The param to check if it is a number\n */\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\n\n/**\n * Checks if `value` is classified as an `Object`.\n * @param {*} value The param to check if it is an object\n */\nexport function isObject(value) {\n  return typeof value === 'object';\n}\n\n/**\n * Checks if `value` is classified as a `String` object.\n * @param {*} value The param to check if it is a string\n */\nexport function isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Checks if `value` is undefined.\n * @param {*} value The param to check if it is undefined\n */\nexport function isUndefined(value) {\n  return value === undefined;\n}\n","import { defer } from './deferred';\nimport { extend, uniqueId } from './general';\nimport { isUndefined } from './type-check';\n\nconst zeroPosCache = {};\nlet zeroElement = null;\n\nexport function getBounds(el) {\n  let doc;\n  if (el === document) {\n    doc = document;\n    el = document.documentElement;\n  } else {\n    doc = el.ownerDocument;\n  }\n\n  const docEl = doc.documentElement;\n\n  const box = _getActualBoundingClientRect(el);\n\n  const origin = _getOrigin();\n\n  box.top -= origin.top;\n  box.left -= origin.left;\n\n  if (isUndefined(box.width)) {\n    box.width = document.body.scrollWidth - box.left - box.right;\n  }\n  if (isUndefined(box.height)) {\n    box.height = document.body.scrollHeight - box.top - box.bottom;\n  }\n\n  box.top = box.top - docEl.clientTop;\n  box.left = box.left - docEl.clientLeft;\n  box.right = doc.body.clientWidth - box.width - box.left;\n  box.bottom = doc.body.clientHeight - box.height - box.top;\n\n  return box;\n}\n\nexport function removeUtilElements() {\n  if (zeroElement) {\n    document.body.removeChild(zeroElement);\n  }\n  zeroElement = null;\n}\n\n/**\n * Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\n * if the element lies within a nested document (<frame> or <iframe>-like).\n * @param node\n */\nfunction _getActualBoundingClientRect(node) {\n  let boundingRect = node.getBoundingClientRect();\n\n  // The original object returned by getBoundingClientRect is immutable, so we clone it\n  // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\n  let rect = {};\n  for (let k in boundingRect) {\n    rect[k] = boundingRect[k];\n  }\n\n  try {\n    if (node.ownerDocument !== document) {\n      let { frameElement } = node.ownerDocument.defaultView;\n      if (frameElement) {\n        let frameRect = _getActualBoundingClientRect(frameElement);\n        rect.top += frameRect.top;\n        rect.bottom += frameRect.top;\n        rect.left += frameRect.left;\n        rect.right += frameRect.left;\n      }\n    }\n  } catch(err) {\n    // Ignore \"Access is denied\" in IE11/Edge\n  }\n\n  return rect;\n}\n\nfunction _getOrigin() {\n  // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\n  // jitter as the user scrolls that messes with our ability to detect if two positions\n  // are equivilant or not.  We place an element at the top left of the page that will\n  // get the same jitter, so we can cancel the two out.\n  let node = zeroElement;\n  if (!node || !document.body.contains(node)) {\n    node = document.createElement('div');\n    node.setAttribute('data-tether-id', uniqueId());\n    extend(node.style, {\n      top: 0,\n      left: 0,\n      position: 'absolute'\n    });\n\n    document.body.appendChild(node);\n\n    zeroElement = node;\n  }\n\n  const id = node.getAttribute('data-tether-id');\n  if (isUndefined(zeroPosCache[id])) {\n    zeroPosCache[id] = _getActualBoundingClientRect(node);\n\n    // Clear the cache when this position call is done\n    defer(() => {\n      delete zeroPosCache[id];\n    });\n  }\n\n  return zeroPosCache[id];\n}\n","import { updateClasses } from './utils/classes';\nimport { defer } from './utils/deferred';\nimport { getBounds } from './utils/bounds';\n\nexport default {\n  position({ top, left }) {\n    const { height, width } = this.cache('element-bounds', () => {\n      return getBounds(this.element);\n    });\n\n    const targetPos = this.getTargetBounds();\n\n    const bottom = top + height;\n    const right = left + width;\n\n    const abutted = [];\n    if (top <= targetPos.bottom && bottom >= targetPos.top) {\n      ['left', 'right'].forEach((side) => {\n        const targetPosSide = targetPos[side];\n        if (targetPosSide === left || targetPosSide === right) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    if (left <= targetPos.right && right >= targetPos.left) {\n      ['top', 'bottom'].forEach((side) => {\n        const targetPosSide = targetPos[side];\n        if (targetPosSide === top || targetPosSide === bottom) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    const sides = ['left', 'top', 'right', 'bottom'];\n    this.all.push(this.getClass('abutted'));\n    sides.forEach((side) => {\n      this.all.push(`${this.getClass('abutted')}-${side}`);\n    });\n\n    if (abutted.length) {\n      this.add.push(this.getClass('abutted'));\n    }\n\n    abutted.forEach((side) => {\n      this.add.push(`${this.getClass('abutted')}-${side}`);\n    });\n\n    defer(() => {\n      if (!(this.options.addTargetClasses === false)) {\n        updateClasses(this.target, this.add, this.all);\n      }\n      updateClasses(this.element, this.add, this.all);\n    });\n\n    return true;\n  }\n};\n","import { updateClasses } from './utils/classes';\nimport { defer } from './utils/deferred';\nimport { extend } from './utils/general';\nimport { getBounds } from './utils/bounds';\nimport { isString, isUndefined } from './utils/type-check';\n\nconst BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\n\nfunction getBoundingRect(tether, to) {\n  if (to === 'scrollParent') {\n    to = tether.scrollParents[0];\n  } else if (to === 'window') {\n    to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\n  }\n\n  if (to === document) {\n    to = to.documentElement;\n  }\n\n  if (!isUndefined(to.nodeType)) {\n    const node = to;\n    const size = getBounds(to);\n    const pos = size;\n    const style = getComputedStyle(to);\n\n    to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\n\n    // Account any parent Frames scroll offset\n    if (node.ownerDocument !== document) {\n      let win = node.ownerDocument.defaultView;\n      to[0] += win.pageXOffset;\n      to[1] += win.pageYOffset;\n      to[2] += win.pageXOffset;\n      to[3] += win.pageYOffset;\n    }\n\n    BOUNDS_FORMAT.forEach((side, i) => {\n      side = side[0].toUpperCase() + side.substr(1);\n      if (side === 'Top' || side === 'Left') {\n        to[i] += parseFloat(style[`border${side}Width`]);\n      } else {\n        to[i] -= parseFloat(style[`border${side}Width`]);\n      }\n    });\n  }\n\n  return to;\n}\n\nexport default {\n  position({ top, left, targetAttachment }) {\n    if (!this.options.constraints) {\n      return true;\n    }\n\n    let { height, width } = this.cache('element-bounds', () => {\n      return getBounds(this.element);\n    });\n\n    if (width === 0 && height === 0 && !isUndefined(this.lastSize)) {\n      // Handle the item getting hidden as a result of our positioning without glitching\n      // the classes in and out\n      ({ width, height } = this.lastSize);\n    }\n\n    const targetSize = this.cache('target-bounds', () => {\n      return this.getTargetBounds();\n    });\n\n    const { height: targetHeight, width: targetWidth } = targetSize;\n\n    const allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\n\n    this.options.constraints.forEach((constraint) => {\n      const { outOfBoundsClass, pinnedClass } = constraint;\n      if (outOfBoundsClass) {\n        allClasses.push(outOfBoundsClass);\n      }\n      if (pinnedClass) {\n        allClasses.push(pinnedClass);\n      }\n    });\n\n    allClasses.forEach((cls) => {\n      ['left', 'top', 'right', 'bottom'].forEach((side) => {\n        allClasses.push(`${cls}-${side}`);\n      });\n    });\n\n    const addClasses = [];\n\n    const tAttachment = extend({}, targetAttachment);\n    const eAttachment = extend({}, this.attachment);\n\n    this.options.constraints.forEach((constraint) => {\n      let { to, attachment, pin } = constraint;\n\n      if (isUndefined(attachment)) {\n        attachment = '';\n      }\n\n      let changeAttachX, changeAttachY;\n      if (attachment.indexOf(' ') >= 0) {\n        [changeAttachY, changeAttachX] = attachment.split(' ');\n      } else {\n        changeAttachX = changeAttachY = attachment;\n      }\n\n      const bounds = getBoundingRect(this, to);\n\n      if (changeAttachY === 'target' || changeAttachY === 'both') {\n        if (top < bounds[1] && tAttachment.top === 'top') {\n          top += targetHeight;\n          tAttachment.top = 'bottom';\n        }\n\n        if (top + height > bounds[3] && tAttachment.top === 'bottom') {\n          top -= targetHeight;\n          tAttachment.top = 'top';\n        }\n      }\n\n      if (changeAttachY === 'together') {\n        if (tAttachment.top === 'top') {\n          if (eAttachment.top === 'bottom' && top < bounds[1]) {\n            top += targetHeight;\n            tAttachment.top = 'bottom';\n\n            top += height;\n            eAttachment.top = 'top';\n\n          } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\n            top -= height - targetHeight;\n            tAttachment.top = 'bottom';\n\n            eAttachment.top = 'bottom';\n          }\n        }\n\n        if (tAttachment.top === 'bottom') {\n          if (eAttachment.top === 'top' && top + height > bounds[3]) {\n            top -= targetHeight;\n            tAttachment.top = 'top';\n\n            top -= height;\n            eAttachment.top = 'bottom';\n\n          } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\n            top += height - targetHeight;\n            tAttachment.top = 'top';\n\n            eAttachment.top = 'top';\n\n          }\n        }\n\n        if (tAttachment.top === 'middle') {\n          if (top + height > bounds[3] && eAttachment.top === 'top') {\n            top -= height;\n            eAttachment.top = 'bottom';\n\n          } else if (top < bounds[1] && eAttachment.top === 'bottom') {\n            top += height;\n            eAttachment.top = 'top';\n          }\n        }\n      }\n\n      if (changeAttachX === 'target' || changeAttachX === 'both') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          left += targetWidth;\n          tAttachment.left = 'right';\n        }\n\n        if (left + width > bounds[2] && tAttachment.left === 'right') {\n          left -= targetWidth;\n          tAttachment.left = 'left';\n        }\n      }\n\n      if (changeAttachX === 'together') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          if (eAttachment.left === 'right') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left += width;\n            eAttachment.left = 'left';\n\n          } else if (eAttachment.left === 'left') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left -= width;\n            eAttachment.left = 'right';\n          }\n\n        } else if (left + width > bounds[2] && tAttachment.left === 'right') {\n          if (eAttachment.left === 'left') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left -= width;\n            eAttachment.left = 'right';\n\n          } else if (eAttachment.left === 'right') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left += width;\n            eAttachment.left = 'left';\n          }\n\n        } else if (tAttachment.left === 'center') {\n          if (left + width > bounds[2] && eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n\n          } else if (left < bounds[0] && eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          }\n        }\n      }\n\n      if (changeAttachY === 'element' || changeAttachY === 'both') {\n        if (top < bounds[1] && eAttachment.top === 'bottom') {\n          top += height;\n          eAttachment.top = 'top';\n        }\n\n        if (top + height > bounds[3] && eAttachment.top === 'top') {\n          top -= height;\n          eAttachment.top = 'bottom';\n        }\n      }\n\n      if (changeAttachX === 'element' || changeAttachX === 'both') {\n        if (left < bounds[0]) {\n          if (eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'center') {\n            left += (width / 2);\n            eAttachment.left = 'left';\n          }\n        }\n\n        if (left + width > bounds[2]) {\n          if (eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'center') {\n            left -= (width / 2);\n            eAttachment.left = 'right';\n          }\n        }\n      }\n\n      if (isString(pin)) {\n        pin = pin.split(',').map((p) => p.trim());\n      } else if (pin === true) {\n        pin = ['top', 'left', 'right', 'bottom'];\n      }\n\n      pin = pin || [];\n\n      const pinned = [];\n      const oob = [];\n\n      if (top < bounds[1]) {\n        if (pin.indexOf('top') >= 0) {\n          top = bounds[1];\n          pinned.push('top');\n        } else {\n          oob.push('top');\n        }\n      }\n\n      if (top + height > bounds[3]) {\n        if (pin.indexOf('bottom') >= 0) {\n          top = bounds[3] - height;\n          pinned.push('bottom');\n        } else {\n          oob.push('bottom');\n        }\n      }\n\n      if (left < bounds[0]) {\n        if (pin.indexOf('left') >= 0) {\n          left = bounds[0];\n          pinned.push('left');\n        } else {\n          oob.push('left');\n        }\n      }\n\n      if (left + width > bounds[2]) {\n        if (pin.indexOf('right') >= 0) {\n          left = bounds[2] - width;\n          pinned.push('right');\n        } else {\n          oob.push('right');\n        }\n      }\n\n      if (pinned.length) {\n        let pinnedClass;\n        if (!isUndefined(this.options.pinnedClass)) {\n          pinnedClass = this.options.pinnedClass;\n        } else {\n          pinnedClass = this.getClass('pinned');\n        }\n\n        addClasses.push(pinnedClass);\n        pinned.forEach((side) => {\n          addClasses.push(`${pinnedClass}-${side}`);\n        });\n      }\n\n      if (oob.length) {\n        let oobClass;\n        if (!isUndefined(this.options.outOfBoundsClass)) {\n          oobClass = this.options.outOfBoundsClass;\n        } else {\n          oobClass = this.getClass('out-of-bounds');\n        }\n\n        addClasses.push(oobClass);\n        oob.forEach((side) => {\n          addClasses.push(`${oobClass}-${side}`);\n        });\n      }\n\n      if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\n        eAttachment.left = tAttachment.left = false;\n      }\n      if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\n        eAttachment.top = tAttachment.top = false;\n      }\n\n      if (tAttachment.top !== targetAttachment.top ||\n        tAttachment.left !== targetAttachment.left ||\n        eAttachment.top !== this.attachment.top ||\n        eAttachment.left !== this.attachment.left) {\n        this.updateAttachClasses(eAttachment, tAttachment);\n        this.trigger('update', {\n          attachment: eAttachment,\n          targetAttachment: tAttachment\n        });\n      }\n    });\n\n    defer(() => {\n      if (!(this.options.addTargetClasses === false)) {\n        updateClasses(this.target, addClasses, allClasses);\n      }\n      updateClasses(this.element, addClasses, allClasses);\n    });\n\n    return { top, left };\n  }\n};\n","import { isFunction, isString } from './utils/type-check';\n\nexport default {\n  position({ top, left }) {\n    if (!this.options.shift) {\n      return;\n    }\n\n    let { shift } = this.options;\n    if (isFunction(shift)) {\n      shift = shift.call(this, { top, left });\n    }\n\n    let shiftTop, shiftLeft;\n    if (isString(shift)) {\n      shift = shift.split(' ');\n      shift[1] = shift[1] || shift[0];\n\n      ([shiftTop, shiftLeft] = shift);\n\n      shiftTop = parseFloat(shiftTop, 10);\n      shiftLeft = parseFloat(shiftLeft, 10);\n    } else {\n      ([shiftTop, shiftLeft] = [shift.top, shift.left]);\n    }\n\n    top += shiftTop;\n    left += shiftLeft;\n\n    return { top, left };\n  }\n};\n","import { isUndefined } from './utils/type-check';\n\nexport class Evented {\n  on(event, handler, ctx, once = false) {\n    if (isUndefined(this.bindings)) {\n      this.bindings = {};\n    }\n    if (isUndefined(this.bindings[event])) {\n      this.bindings[event] = [];\n    }\n    this.bindings[event].push({ handler, ctx, once });\n\n    return this;\n  }\n\n  once(event, handler, ctx) {\n    return this.on(event, handler, ctx, true);\n  }\n\n  off(event, handler) {\n    if (isUndefined(this.bindings) ||\n      isUndefined(this.bindings[event])) {\n      return this;\n    }\n\n    if (isUndefined(handler)) {\n      delete this.bindings[event];\n    } else {\n      let i = 0;\n      while (i < this.bindings[event].length) {\n        if (this.bindings[event][i].handler === handler) {\n          this.bindings[event].splice(i, 1);\n        } else {\n          ++i;\n        }\n      }\n    }\n\n    return this;\n  }\n\n  trigger(event, ...args) {\n    if (!isUndefined(this.bindings) && this.bindings[event]) {\n      let i = 0;\n      while (i < this.bindings[event].length) {\n        const { handler, ctx, once } = this.bindings[event][i];\n\n        let context = ctx;\n        if (isUndefined(context)) {\n          context = this;\n        }\n\n        handler.apply(context, args);\n\n        if (once) {\n          this.bindings[event].splice(i, 1);\n        } else {\n          ++i;\n        }\n      }\n    }\n\n    return this;\n  }\n}\n","import { isString, isUndefined } from './type-check';\n\nconst MIRROR_LR = {\n  center: 'center',\n  left: 'right',\n  right: 'left'\n};\n\nconst MIRROR_TB = {\n  middle: 'middle',\n  top: 'bottom',\n  bottom: 'top'\n};\n\nconst OFFSET_MAP = {\n  top: 0,\n  left: 0,\n  middle: '50%',\n  center: '50%',\n  bottom: '100%',\n  right: '100%'\n};\n\nexport function addOffset(...offsets) {\n  const out = { top: 0, left: 0 };\n\n  offsets.forEach(({ top, left }) => {\n    if (isString(top)) {\n      top = parseFloat(top);\n    }\n    if (isString(left)) {\n      left = parseFloat(left);\n    }\n\n    out.top += top;\n    out.left += left;\n  });\n\n  return out;\n}\n\nexport function attachmentToOffset(attachment) {\n  let { left, top } = attachment;\n\n  if (!isUndefined(OFFSET_MAP[attachment.left])) {\n    left = OFFSET_MAP[attachment.left];\n  }\n\n  if (!isUndefined(OFFSET_MAP[attachment.top])) {\n    top = OFFSET_MAP[attachment.top];\n  }\n\n  return { left, top };\n}\n\nexport function autoToFixedAttachment(attachment, relativeToAttachment) {\n  let { left, top } = attachment;\n\n  if (left === 'auto') {\n    left = MIRROR_LR[relativeToAttachment.left];\n  }\n\n  if (top === 'auto') {\n    top = MIRROR_TB[relativeToAttachment.top];\n  }\n\n  return { left, top };\n}\n\nexport function offsetToPx(offset, size) {\n  if (isString(offset.left) && offset.left.indexOf('%') !== -1) {\n    offset.left = parseFloat(offset.left) / 100 * size.width;\n  }\n  if (isString(offset.top) && offset.top.indexOf('%') !== -1) {\n    offset.top = parseFloat(offset.top) / 100 * size.height;\n  }\n\n  return offset;\n}\n\nexport function parseTopLeft(value) {\n  const [top, left] = value.split(' ');\n  return { top, left };\n}\n","import { isUndefined } from './type-check';\n\nexport function getScrollParents(el) {\n  // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  const computedStyle = getComputedStyle(el) || {};\n  const { position } = computedStyle;\n  let parents = [];\n\n  if (position === 'fixed') {\n    return [el];\n  }\n\n  let parent = el;\n  while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\n    let style;\n    try {\n      style = getComputedStyle(parent);\n    } catch(err) {\n      // Intentionally blank\n    }\n\n    if (isUndefined(style) || style === null) {\n      parents.push(parent);\n      return parents;\n    }\n\n    const { overflow, overflowX, overflowY } = style;\n    if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n      if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\n        parents.push(parent);\n      }\n    }\n  }\n\n  parents.push(el.ownerDocument.body);\n\n  // If the node is within a frame, account for the parent window scroll\n  if (el.ownerDocument !== document) {\n    parents.push(el.ownerDocument.defaultView);\n  }\n\n  return parents;\n}\n\nexport function getOffsetParent(el) {\n  return el.offsetParent || document.documentElement;\n}\n","import '../css/tether.scss';\nimport '../css/tether-theme-arrows.scss';\nimport '../css/tether-theme-arrows-dark.scss';\nimport '../css/tether-theme-basic.scss';\nimport Abutment from './abutment';\nimport Constraint from './constraint';\nimport Shift from './shift';\nimport { Evented } from './evented';\nimport { addClass, removeClass, updateClasses } from './utils/classes';\nimport { defer, flush } from './utils/deferred';\nimport { extend, getScrollBarSize } from './utils/general';\nimport { addOffset, attachmentToOffset, autoToFixedAttachment, offsetToPx, parseTopLeft } from './utils/offset';\nimport { getBounds, removeUtilElements } from './utils/bounds';\nimport { getOffsetParent, getScrollParents } from './utils/parents';\nimport { isNumber, isObject, isString, isUndefined } from './utils/type-check';\n\nconst TetherBase = { modules: [Constraint, Abutment, Shift] };\n\nfunction isFullscreenElement(e) {\n  let d = e.ownerDocument;\n  let fe = d.fullscreenElement || d.webkitFullscreenElement || d.mozFullScreenElement || d.msFullscreenElement;\n  return fe === e;\n}\n\nfunction within(a, b, diff = 1) {\n  return (a + diff >= b && b >= a - diff);\n}\n\nconst transformKey = (() => {\n  if (isUndefined(document)) {\n    return '';\n  }\n  const el = document.createElement('div');\n\n  const transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n  for (let i = 0; i < transforms.length; ++i) {\n    const key = transforms[i];\n    if (el.style[key] !== undefined) {\n      return key;\n    }\n  }\n})();\n\nconst tethers = [];\n\nconst position = () => {\n  tethers.forEach((tether) => {\n    tether.position(false);\n  });\n  flush();\n};\n\nfunction now() {\n  return performance.now();\n}\n\n(() => {\n  let lastCall = null;\n  let lastDuration = null;\n  let pendingTimeout = null;\n\n  const tick = () => {\n    if (!isUndefined(lastDuration) && lastDuration > 16) {\n      // We voluntarily throttle ourselves if we can't manage 60fps\n      lastDuration = Math.min(lastDuration - 16, 250);\n\n      // Just in case this is the last event, remember to position just once more\n      pendingTimeout = setTimeout(tick, 250);\n      return;\n    }\n\n    if (!isUndefined(lastCall) && (now() - lastCall) < 10) {\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\n      return;\n    }\n\n    if (pendingTimeout != null) {\n      clearTimeout(pendingTimeout);\n      pendingTimeout = null;\n    }\n\n    lastCall = now();\n    position();\n    lastDuration = now() - lastCall;\n  };\n\n  if (!isUndefined(window) && !isUndefined(window.addEventListener)) {\n    ['resize', 'scroll', 'touchmove'].forEach((event) => {\n      window.addEventListener(event, tick);\n    });\n  }\n})();\n\nclass TetherClass extends Evented {\n  constructor(options) {\n    super();\n    this.position = this.position.bind(this);\n\n    tethers.push(this);\n\n    this.history = [];\n\n    this.setOptions(options, false);\n\n    TetherBase.modules.forEach((module) => {\n      if (!isUndefined(module.initialize)) {\n        module.initialize.call(this);\n      }\n    });\n\n    this.position();\n  }\n\n  getClass(key = '') {\n    const { classes } = this.options;\n    if (!isUndefined(classes) && !isUndefined(classes[key])) {\n      if (classes[key] === false) {\n        return '';\n      }\n      return this.options.classes[key];\n    } else if (this.options.classPrefix) {\n      return `${this.options.classPrefix}-${key}`;\n    } else {\n      return key;\n    }\n  }\n\n  setOptions(options, pos = true) {\n    const defaults = {\n      offset: '0 0',\n      targetOffset: '0 0',\n      targetAttachment: 'auto auto',\n      classPrefix: 'tether'\n    };\n\n    this.options = extend(defaults, options);\n\n    let { element, target, targetModifier } = this.options;\n    this.element = element;\n    this.target = target;\n    this.targetModifier = targetModifier;\n\n    if (this.target === 'viewport') {\n      this.target = document.body;\n      this.targetModifier = 'visible';\n    } else if (this.target === 'scroll-handle') {\n      this.target = document.body;\n      this.targetModifier = 'scroll-handle';\n    }\n\n    ['element', 'target'].forEach((key) => {\n      if (isUndefined(this[key])) {\n        throw new Error('Tether Error: Both element and target must be defined');\n      }\n\n      if (!isUndefined(this[key].jquery)) {\n        this[key] = this[key][0];\n      } else if (isString(this[key])) {\n        this[key] = document.querySelector(this[key]);\n      }\n    });\n\n    this._addClasses();\n\n    if (!this.options.attachment) {\n      throw new Error('Tether Error: You must provide an attachment');\n    }\n\n    this.targetAttachment = parseTopLeft(this.options.targetAttachment);\n    this.attachment = parseTopLeft(this.options.attachment);\n    this.offset = parseTopLeft(this.options.offset);\n    this.targetOffset = parseTopLeft(this.options.targetOffset);\n\n    if (!isUndefined(this.scrollParents)) {\n      this.disable();\n    }\n\n    if (this.targetModifier === 'scroll-handle') {\n      this.scrollParents = [this.target];\n    } else {\n      this.scrollParents = getScrollParents(this.target);\n    }\n\n    if (!(this.options.enabled === false)) {\n      this.enable(pos);\n    }\n  }\n\n  getTargetBounds() {\n    if (!isUndefined(this.targetModifier)) {\n      if (this.targetModifier === 'visible') {\n        if (this.target === document.body) {\n          return { top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth };\n        } else {\n          const bounds = getBounds(this.target);\n\n          const out = {\n            height: bounds.height,\n            width: bounds.width,\n            top: bounds.top,\n            left: bounds.left\n          };\n\n          out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n          out.height = Math.min(out.height, bounds.height - ((bounds.top + bounds.height) - (pageYOffset + innerHeight)));\n          out.height = Math.min(innerHeight, out.height);\n          out.height -= 2;\n\n          out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n          out.width = Math.min(out.width, bounds.width - ((bounds.left + bounds.width) - (pageXOffset + innerWidth)));\n          out.width = Math.min(innerWidth, out.width);\n          out.width -= 2;\n\n          if (out.top < pageYOffset) {\n            out.top = pageYOffset;\n          }\n          if (out.left < pageXOffset) {\n            out.left = pageXOffset;\n          }\n\n          return out;\n        }\n      } else if (this.targetModifier === 'scroll-handle') {\n        let bounds;\n        let { target } = this;\n        if (target === document.body) {\n          target = document.documentElement;\n\n          bounds = {\n            left: pageXOffset,\n            top: pageYOffset,\n            height: innerHeight,\n            width: innerWidth\n          };\n        } else {\n          bounds = getBounds(target);\n        }\n\n        const style = getComputedStyle(target);\n\n        const hasBottomScroll = (\n          target.scrollWidth > target.clientWidth ||\n          [style.overflow, style.overflowX].indexOf('scroll') >= 0 ||\n          this.target !== document.body\n        );\n\n        let scrollBottom = 0;\n        if (hasBottomScroll) {\n          scrollBottom = 15;\n        }\n\n        const height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n\n        const out = {\n          width: 15,\n          height: height * 0.975 * (height / target.scrollHeight),\n          left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n        };\n\n        let fitAdj = 0;\n        if (height < 408 && this.target === document.body) {\n          fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n        }\n\n        if (this.target !== document.body) {\n          out.height = Math.max(out.height, 24);\n        }\n\n        const scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n        out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n\n        if (this.target === document.body) {\n          out.height = Math.max(out.height, 24);\n        }\n\n        return out;\n      }\n    } else {\n      return getBounds(this.target);\n    }\n  }\n\n  clearCache() {\n    this._cache = {};\n  }\n\n  cache(k, getter) {\n    // More than one module will often need the same DOM info, so\n    // we keep a cache which is cleared on each position call\n    if (isUndefined(this._cache)) {\n      this._cache = {};\n    }\n\n    if (isUndefined(this._cache[k])) {\n      this._cache[k] = getter.call(this);\n    }\n\n    return this._cache[k];\n  }\n\n  enable(pos = true) {\n    if (!(this.options.addTargetClasses === false)) {\n      addClass(this.target, this.getClass('enabled'));\n    }\n    addClass(this.element, this.getClass('enabled'));\n    this.enabled = true;\n\n    this.scrollParents.forEach((parent) => {\n      if (parent !== this.target.ownerDocument) {\n        parent.addEventListener('scroll', this.position);\n      }\n    });\n\n    if (pos) {\n      this.position();\n    }\n  }\n\n  disable() {\n    removeClass(this.target, this.getClass('enabled'));\n    removeClass(this.element, this.getClass('enabled'));\n    this.enabled = false;\n\n    if (!isUndefined(this.scrollParents)) {\n      this.scrollParents.forEach((parent) => {\n        parent.removeEventListener('scroll', this.position);\n      });\n    }\n  }\n\n  destroy() {\n    this.disable();\n\n    this._removeClasses();\n\n    tethers.forEach((tether, i) => {\n      if (tether === this) {\n        tethers.splice(i, 1);\n      }\n    });\n\n    // Remove any elements we were using for convenience from the DOM\n    if (tethers.length === 0) {\n      removeUtilElements();\n    }\n  }\n\n  updateAttachClasses(elementAttach, targetAttach) {\n    elementAttach = elementAttach || this.attachment;\n    targetAttach = targetAttach || this.targetAttachment;\n    const sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n\n    if (!isUndefined(this._addAttachClasses) && this._addAttachClasses.length) {\n      // updateAttachClasses can be called more than once in a position call, so\n      // we need to clean up after ourselves such that when the last defer gets\n      // ran it doesn't add any extra classes from previous calls.\n      this._addAttachClasses.splice(0, this._addAttachClasses.length);\n    }\n\n    if (isUndefined(this._addAttachClasses)) {\n      this._addAttachClasses = [];\n    }\n    this.add = this._addAttachClasses;\n\n    if (elementAttach.top) {\n      this.add.push(`${this.getClass('element-attached')}-${elementAttach.top}`);\n    }\n    if (elementAttach.left) {\n      this.add.push(`${this.getClass('element-attached')}-${elementAttach.left}`);\n    }\n    if (targetAttach.top) {\n      this.add.push(`${this.getClass('target-attached')}-${targetAttach.top}`);\n    }\n    if (targetAttach.left) {\n      this.add.push(`${this.getClass('target-attached')}-${targetAttach.left}`);\n    }\n\n    this.all = [];\n    sides.forEach((side) => {\n      this.all.push(`${this.getClass('element-attached')}-${side}`);\n      this.all.push(`${this.getClass('target-attached')}-${side}`);\n    });\n\n    defer(() => {\n      if (isUndefined(this._addAttachClasses)) {\n        return;\n      }\n\n      updateClasses(this.element, this._addAttachClasses, this.all);\n      if (!(this.options.addTargetClasses === false)) {\n        updateClasses(this.target, this._addAttachClasses, this.all);\n      }\n\n      delete this._addAttachClasses;\n    });\n  }\n\n  position(flushChanges = true) {\n    // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n    // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n    if (!this.enabled) {\n      return;\n    }\n\n    this.clearCache();\n\n    // Turn 'auto' attachments into the appropriate corner or edge\n    const targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n\n    this.updateAttachClasses(this.attachment, targetAttachment);\n\n    const elementPos = this.cache('element-bounds', () => {\n      return getBounds(this.element);\n    });\n\n    let { width, height } = elementPos;\n\n    if (width === 0 && height === 0 && !isUndefined(this.lastSize)) {\n      // We cache the height and width to make it possible to position elements that are\n      // getting hidden.\n      ({ width, height } = this.lastSize);\n    } else {\n      this.lastSize = { width, height };\n    }\n\n    const targetPos = this.cache('target-bounds', () => {\n      return this.getTargetBounds();\n    });\n    const targetSize = targetPos;\n\n    // Get an actual px offset from the attachment\n    let offset = offsetToPx(attachmentToOffset(this.attachment), { width, height });\n    let targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n\n    const manualOffset = offsetToPx(this.offset, { width, height });\n    const manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n    // Add the manually provided offset\n    offset = addOffset(offset, manualOffset);\n    targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n    // It's now our goal to make (element position + offset) == (target position + target offset)\n    let left = targetPos.left + targetOffset.left - offset.left;\n    let top = targetPos.top + targetOffset.top - offset.top;\n\n    for (let i = 0; i < TetherBase.modules.length; ++i) {\n      const module = TetherBase.modules[i];\n      const ret = module.position.call(this, {\n        left,\n        top,\n        targetAttachment,\n        targetPos,\n        elementPos,\n        offset,\n        targetOffset,\n        manualOffset,\n        manualTargetOffset,\n        scrollbarSize,\n        attachment: this.attachment\n      });\n\n      if (ret === false) {\n        return false;\n      } else if (isUndefined(ret) || !isObject(ret)) {\n        continue;\n      } else {\n        ({ top, left } = ret);\n      }\n    }\n\n    // We describe the position three different ways to give the optimizer\n    // a chance to decide the best possible way to position the element\n    // with the fewest repaints.\n    const next = {\n      // It's position relative to the page (absolute positioning when\n      // the element is a child of the body)\n      page: {\n        top,\n        left\n      },\n\n      // It's position relative to the viewport (fixed positioning)\n      viewport: {\n        top: top - pageYOffset,\n        bottom: pageYOffset - top - height + innerHeight,\n        left: left - pageXOffset,\n        right: pageXOffset - left - width + innerWidth\n      }\n    };\n\n    let doc = this.target.ownerDocument;\n    let win = doc.defaultView;\n\n    let scrollbarSize;\n    if (win.innerHeight > doc.documentElement.clientHeight) {\n      scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n      next.viewport.bottom -= scrollbarSize.height;\n    }\n\n    if (win.innerWidth > doc.documentElement.clientWidth) {\n      scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n      next.viewport.right -= scrollbarSize.width;\n    }\n\n    if (['', 'static'].indexOf(doc.body.style.position) === -1 ||\n      ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\n      // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n      next.page.bottom = doc.body.scrollHeight - top - height;\n      next.page.right = doc.body.scrollWidth - left - width;\n    }\n\n    if (!isUndefined(this.options.optimizations) &&\n      this.options.optimizations.moveElement !== false &&\n      isUndefined(this.targetModifier)) {\n      const offsetParent = this.cache('target-offsetparent', () => getOffsetParent(this.target));\n      const offsetPosition = this.cache('target-offsetparent-bounds', () => getBounds(offsetParent));\n      const offsetParentStyle = getComputedStyle(offsetParent);\n      const offsetParentSize = offsetPosition;\n\n      const offsetBorder = {};\n      ['Top', 'Left', 'Bottom', 'Right'].forEach((side) => {\n        offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle[`border${side}Width`]);\n      });\n\n      offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n      offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n\n      if (next.page.top >= (offsetPosition.top + offsetBorder.top) && next.page.bottom >= offsetPosition.bottom) {\n        if (next.page.left >= (offsetPosition.left + offsetBorder.left) && next.page.right >= offsetPosition.right) {\n          // We're within the visible part of the target's scroll parent\n          const { scrollLeft, scrollTop } = offsetParent;\n\n          // It's position relative to the target's offset parent (absolute positioning when\n          // the element is moved to be a child of the target's offset parent).\n          next.offset = {\n            top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n            left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n          };\n        }\n      }\n    }\n\n    // We could also travel up the DOM and try each containing context, rather than only\n    // looking at the body, but we're gonna get diminishing returns.\n\n    this.move(next);\n\n    this.history.unshift(next);\n\n    if (this.history.length > 3) {\n      this.history.pop();\n    }\n\n    if (flushChanges) {\n      flush();\n    }\n\n    return true;\n  }\n\n  // THE ISSUE\n  move(pos) {\n    if (isUndefined(this.element.parentNode)) {\n      return;\n    }\n\n    const same = {};\n\n    for (let type in pos) {\n      same[type] = {};\n\n      for (let key in pos[type]) {\n        let found = false;\n\n        for (let i = 0; i < this.history.length; ++i) {\n          const point = this.history[i];\n          if (!isUndefined(point[type]) &&\n            !within(point[type][key], pos[type][key])) {\n            found = true;\n            break;\n          }\n\n        }\n\n        if (!found) {\n          same[type][key] = true;\n        }\n      }\n    }\n\n    let css = { top: '', left: '', right: '', bottom: '' };\n\n    const transcribe = (_same, _pos) => {\n      const hasOptimizations = !isUndefined(this.options.optimizations);\n      const gpu = hasOptimizations ? this.options.optimizations.gpu : null;\n      if (gpu !== false) {\n        let yPos, xPos;\n        if (_same.top) {\n          css.top = 0;\n          yPos = _pos.top;\n        } else {\n          css.bottom = 0;\n          yPos = -_pos.bottom;\n        }\n\n        if (_same.left) {\n          css.left = 0;\n          xPos = _pos.left;\n        } else {\n          css.right = 0;\n          xPos = -_pos.right;\n        }\n\n        if (isNumber(window.devicePixelRatio) && devicePixelRatio % 1 === 0) {\n          xPos = Math.round(xPos * devicePixelRatio) / devicePixelRatio;\n          yPos = Math.round(yPos * devicePixelRatio) / devicePixelRatio;\n        }\n\n        css[transformKey] = `translateX(${xPos}px) translateY(${yPos}px)`;\n\n        if (transformKey !== 'msTransform') {\n          // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n          // but IE9 doesn't support 3d transforms and will choke.\n          css[transformKey] += ' translateZ(0)';\n        }\n\n      } else {\n        if (_same.top) {\n          css.top = `${_pos.top}px`;\n        } else {\n          css.bottom = `${_pos.bottom}px`;\n        }\n\n        if (_same.left) {\n          css.left = `${_pos.left}px`;\n        } else {\n          css.right = `${_pos.right}px`;\n        }\n      }\n    };\n\n    const hasOptimizations = !isUndefined(this.options.optimizations);\n    let allowPositionFixed = true;\n\n    if (hasOptimizations && this.options.optimizations.allowPositionFixed === false) {\n      allowPositionFixed = false;\n    }\n\n    let moved = false;\n    if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n      css.position = 'absolute';\n      transcribe(same.page, pos.page);\n\n    } else if (allowPositionFixed && (same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n      css.position = 'fixed';\n      transcribe(same.viewport, pos.viewport);\n    } else if (!isUndefined(same.offset) && same.offset.top && same.offset.left) {\n      css.position = 'absolute';\n      const offsetParent = this.cache('target-offsetparent', () => getOffsetParent(this.target));\n\n      if (getOffsetParent(this.element) !== offsetParent) {\n        defer(() => {\n          this.element.parentNode.removeChild(this.element);\n          offsetParent.appendChild(this.element);\n        });\n      }\n\n      transcribe(same.offset, pos.offset);\n      moved = true;\n\n    } else {\n      css.position = 'absolute';\n      transcribe({ top: true, left: true }, pos.page);\n    }\n\n    if (!moved) {\n      if (this.options.bodyElement) {\n        if (this.element.parentNode !== this.options.bodyElement) {\n          this.options.bodyElement.appendChild(this.element);\n        }\n      } else {\n        let offsetParentIsBody = true;\n\n        let currentNode = this.element.parentNode;\n        while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY' && !isFullscreenElement(currentNode)) {\n          if (getComputedStyle(currentNode).position !== 'static') {\n            offsetParentIsBody = false;\n            break;\n          }\n\n          currentNode = currentNode.parentNode;\n        }\n\n        if (!offsetParentIsBody) {\n          this.element.parentNode.removeChild(this.element);\n          this.element.ownerDocument.body.appendChild(this.element);\n        }\n      }\n    }\n\n    // Any css change will trigger a repaint, so let's avoid one if nothing changed\n    const writeCSS = {};\n    let write = false;\n    for (let key in css) {\n      let val = css[key];\n      let elVal = this.element.style[key];\n\n      if (elVal !== val) {\n        write = true;\n        writeCSS[key] = val;\n      }\n    }\n\n    if (write) {\n      defer(() => {\n        extend(this.element.style, writeCSS);\n        this.trigger('repositioned');\n      });\n    }\n  }\n\n  _addClasses() {\n    addClass(this.element, this.getClass('element'));\n    if (!(this.options.addTargetClasses === false)) {\n      addClass(this.target, this.getClass('target'));\n    }\n  }\n\n  _removeClasses() {\n    removeClass(this.element, this.getClass('element'));\n    if (!(this.options.addTargetClasses === false)) {\n      removeClass(this.target, this.getClass('target'));\n    }\n\n    this.all.forEach((className) => {\n      this.element.classList.remove(className);\n      this.target.classList.remove(className);\n    });\n  }\n}\n\nTetherClass.modules = [];\n\nTetherBase.position = position;\n\nlet Tether = extend(TetherClass, TetherBase);\n\nTether.modules.push({\n  initialize() {\n    this.markers = {};\n\n    ['target', 'element'].forEach((type) => {\n      const el = document.createElement('div');\n      el.className = this.getClass(`${type}-marker`);\n\n      const dot = document.createElement('div');\n      dot.className = this.getClass('marker-dot');\n      el.appendChild(dot);\n\n      this[type].appendChild(el);\n\n      this.markers[type] = { dot, el };\n    });\n  },\n\n  position({ manualOffset, manualTargetOffset }) {\n    const offsets = {\n      element: manualOffset,\n      target: manualTargetOffset\n    };\n\n    for (let type in offsets) {\n      const offset = offsets[type];\n      for (let side in offset) {\n        let val = offset[side];\n        if (!isString(val) ||\n          val.indexOf('%') === -1 &&\n          val.indexOf('px') === -1) {\n          val += 'px';\n        }\n\n        if (this.markers[type].dot.style[side] !== val) {\n          this.markers[type].dot.style[side] = val;\n        }\n      }\n    }\n\n    return true;\n  }\n});\n\nexport default Tether;\n"],"names":["addClass","el","name","split","forEach","cls","trim","classList","add","removeClass","remove","updateClasses","all","indexOf","contains","deferred","defer","fn","push","flush","pop","_scrollBarSize","extend","out","args","Array","prototype","apply","arguments","slice","obj","key","hasOwnProperty","call","getScrollBarSize","inner","document","createElement","style","width","height","outer","position","top","left","pointerEvents","visibility","overflow","appendChild","body","widthContained","offsetWidth","widthScroll","clientWidth","removeChild","uniqueId","id","isFunction","value","isNumber","isObject","isString","isUndefined","undefined","zeroPosCache","zeroElement","getBounds","doc","documentElement","ownerDocument","docEl","box","_getActualBoundingClientRect","origin","_getOrigin","scrollWidth","right","scrollHeight","bottom","clientTop","clientLeft","clientHeight","removeUtilElements","node","boundingRect","getBoundingClientRect","rect","k","frameElement","defaultView","frameRect","err","setAttribute","getAttribute","cache","element","targetPos","getTargetBounds","abutted","side","targetPosSide","sides","getClass","length","options","addTargetClasses","target","BOUNDS_FORMAT","getBoundingRect","tether","to","scrollParents","pageXOffset","pageYOffset","innerWidth","innerHeight","nodeType","size","pos","getComputedStyle","win","i","toUpperCase","substr","parseFloat","targetAttachment","constraints","lastSize","targetSize","targetHeight","targetWidth","allClasses","constraint","outOfBoundsClass","pinnedClass","addClasses","tAttachment","eAttachment","attachment","pin","changeAttachX","changeAttachY","bounds","map","p","pinned","oob","oobClass","updateAttachClasses","trigger","shift","shiftTop","shiftLeft","Evented","on","event","handler","ctx","once","bindings","off","splice","context","MIRROR_LR","center","MIRROR_TB","middle","OFFSET_MAP","addOffset","offsets","attachmentToOffset","autoToFixedAttachment","relativeToAttachment","offsetToPx","offset","parseTopLeft","getScrollParents","computedStyle","parents","parent","parentNode","overflowX","overflowY","test","getOffsetParent","offsetParent","TetherBase","modules","Constraint","Abutment","Shift","isFullscreenElement","e","d","fe","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","within","a","b","diff","transformKey","transforms","tethers","now","performance","lastCall","lastDuration","pendingTimeout","tick","Math","min","setTimeout","clearTimeout","window","addEventListener","TetherClass","bind","history","setOptions","module","initialize","classes","classPrefix","defaults","targetOffset","targetModifier","Error","jquery","querySelector","_addClasses","disable","enabled","enable","hasBottomScroll","scrollBottom","borderTopWidth","borderBottomWidth","borderLeftWidth","fitAdj","pow","max","scrollPercentage","scrollTop","clearCache","_cache","getter","removeEventListener","destroy","_removeClasses","elementAttach","targetAttach","_addAttachClasses","flushChanges","elementPos","manualOffset","manualTargetOffset","ret","scrollbarSize","next","page","viewport","parentElement","optimizations","moveElement","offsetPosition","offsetParentStyle","offsetParentSize","offsetBorder","toLowerCase","scrollLeft","move","unshift","same","type","found","point","css","transcribe","_same","_pos","hasOptimizations","gpu","yPos","xPos","devicePixelRatio","round","allowPositionFixed","moved","bodyElement","offsetParentIsBody","currentNode","tagName","writeCSS","write","val","elVal","className","Tether","markers","dot"],"mappings":"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"}